<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Objects</title>
</head>

<body>
    <h1>Rock papere scissors</h1>
    <button onclick="

      playFunction('Rock');


  
    
    ">Rock</button>


    <button onclick="

    playFunction('Papper');

    
    ">Papper</button>



    <button onclick="

    playFunction('Scissors');
    ">Scissors </button>

    <button onclick="
    
    score.ties = 0;
    score.losses = 0;
    score.wins = 0;
    localStorage.removeItem(`score`)
    
    ">reset</button>








    <script>


        const score = JSON.parse(localStorage.getItem(`score`))|| {
                wins:0,
                losses :0,
                ties:0

        };


        // if (score === null){
        //     score = {
        //         wins:0,
        //         losses :0,
        //         ties:0
        //     };
        // }



      

            
        function playFunction( playName) {

            computerMove = pickComputerNumber();

             let result = '';




            if (playName === 'Rock') {

               

                if (computerMove === 'Rock') {
                    result = ' Tie';

                }
                else if (computerMove === 'Papper') {
                    result = 'You lose';
                }
                else if (computerMove === 'Scissors') {
                    result = 'You Win';
                }

            }

            else if (playName === 'Papper') {


                if (computerMove === 'Rock') {
                    result = 'You Win ';

                }
                else if (computerMove === 'Papper') {
                    result = 'Tie';
                }
                else if (computerMove === 'Scissors') {
                    result = 'You lose';
                }

            }else if (playName === 'Scissors'){


                if (computerMove === 'Rock') {
                    result = 'You lose ';

                }
                else if (computerMove === 'Papper') {
                    result = 'You Win';
                }
                else if (computerMove === 'Scissors') {
                    result = 'Tie';
                }



            }


            if(result === 'You Win'){
                score.wins += 1;
            }else if (result === 'You lose'){
                score.losses += 1;

            }else if ( result === 'Tie'){
                score.ties += 1;

            }


            localStorage.getItem(`score`, JSON.stringify(score));
            

            alert(`You Picked ${playName}. Computer Picked ${computerMove} .${result}  Wins : ${score.wins} . losses: ${score.losses} . Tie : ${score.ties}`);




        }






        function pickComputerNumber() {

            const randomnumber = Math.random();

            let computerMove = '';

            if (randomnumber >= 0 && randomnumber <= 1 / 3) {
                computerMove = 'Rock';
            } else if (randomnumber >= 1 / 3 && randomnumber <= 2 / 3) {
                computerMove = 'Papper';
            } else if (randomnumber >= 2 / 3 && randomnumber < 1) {
                computerMove = ' Scissors';
            }


            return computerMove;

        }


    </script>


</body>

</html>




